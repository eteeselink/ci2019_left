<html>
<head>
    <title>Ooticracy</title>
    <script src="plotly-latest.min.js"></script>
</head>
<body>
    <div id="hello">
    </div>
        <div id="createform">
            <label>Question</label><input name="question" /> <br />
            <label>Answers</label><input name="options" placeholder="Enter possible answers, separated by a ,"/> <br />
        <!--textarea id="questioninput" placeholder="Enter JSON question format here"></textarea-->
            <button id="create">create</button>
        </div>
        <script type="module">

        import {Poll} from "./poll.js";
        const poll = new Poll(document.getElementById("hello"));

        document.querySelector("#create").addEventListener("click", (ev) => {
            ev.preventDefault();

            var questionFormat = {
                question: document.querySelector("input[name=question]").value,
                options: []
            };

            var options = document.querySelector("input[name=options]").value.split(",");
            for (const option of options) {
                questionFormat.options.push(option);
            }

            console.log(options);

            poll.renderQuestion(JSON.stringify(questionFormat));
            document.querySelector("#createform").style.display = "none";
        });

    </script>


    <div id="drawing">
    </div>
</body>
</html>